  METHOD zif_rfw_view_alv~get_alv_layout_attribute.

    DATA:ls_custom_button TYPE zif_rfw_view_alv=>ts_custom_button,
         lv_lookup_name   TYPE zlookup_name.

    FIELD-SYMBOLS <fs_parameter>  TYPE ts_parameter.

    ASSIGN is_parameter TO <fs_parameter>.
    ASSERT <fs_parameter> IS ASSIGNED.

    cv_variant_save_mode = zif_rfw_view_alv=>gc_variant_save_mode_global.
*Exclude function buttons
    CLEAR et_exclude_button.
    APPEND:cl_gui_alv_grid=>mc_fc_loc_undo       TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_append_row TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_insert_row TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_delete_row TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_copy       TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_copy_row   TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_cut        TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_move_row   TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_paste      TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_loc_paste_new_row TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_average        TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_graph          TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_info           TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_refresh        TO et_exclude_button,
           cl_gui_alv_grid=>mc_fc_check          TO et_exclude_button.
*Do NOT Display Manage Layout option for Options 2 & 3
    IF <fs_parameter>-p_rb1 IS INITIAL.
      APPEND cl_gui_alv_grid=>mc_mb_variant TO et_exclude_button.
    ENDIF.

    CLEAR ls_custom_button.
    CASE abap_true.
      WHEN <fs_parameter>-p_rb1.  "Batch Production related
        MOVE 'AUTO'         TO ls_custom_button-v_ucomm.
        MOVE icon_bw_apd_db TO ls_custom_button-v_icon.
        ls_custom_button-v_quickinfo = text-007.
        ls_custom_button-v_text      = text-007.
        APPEND ls_custom_button TO et_custom_button.
      WHEN <fs_parameter>-p_rb2.  "True-up Cost Correction
        MOVE 'MANUAL'        TO ls_custom_button-v_ucomm.
        MOVE icon_write_file TO ls_custom_button-v_icon.
        ls_custom_button-v_quickinfo = text-008.
        ls_custom_button-v_text      = text-008.
        APPEND ls_custom_button TO et_custom_button.
      WHEN OTHERS.
    ENDCASE.

*Set DEFAULT Layout variant for True-up and Display Options
    IF <fs_parameter>-p_rb1 IS INITIAL.
      CASE abap_true.
        WHEN <fs_parameter>-p_rb2.  "True-up Cost Correction
          lv_lookup_name = 'ZKROHRECOG_DEF_LAYOUT2'.
        WHEN <fs_parameter>-p_rb3.  "Display History
          lv_lookup_name = 'ZKROHRECOG_DEF_LAYOUT3'.
        WHEN OTHERS.
      ENDCASE.
      SELECT SINGLE value1 FROM zvv_param INTO @cs_variant-variant
                      WHERE lookup_name = @lv_lookup_name AND
                            free_key    = 'VARIANT'       AND
                            indicator1  = 'X'.
    ENDIF.

  ENDMETHOD.
