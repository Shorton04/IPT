*&---------------------------------------------------------------------*
*& Report ZIN_CMX_WORKORDER
*&---------------------------------------------------------------------*
REPORT zin_cmx_workorder.

*----------------------------------------------------------------------*
*                           Includes                                   *
*----------------------------------------------------------------------*
INCLUDE zin_cmx_workorder_top.
INCLUDE zin_cmx_workorder_sel.
INCLUDE zin_cmx_workorder_f01.

*-------------------------------------------------------------*
*  START-OF-SELECTION
*-------------------------------------------------------------*
START-OF-SELECTION.

  PERFORM f_get_orders.          "Fetch orders

*-------------------------------------------------------------*
*  END-OF-SELECTION
*-------------------------------------------------------------*
END-OF-SELECTION.

  IF gt_output IS NOT INITIAL.
    IF p_test IS INITIAL.
      PERFORM f_send_cmx.          "Update user status in SAP
      PERFORM f_send_to_cpi.       "Send JSON payload to CPI
    ENDIF.
    PERFORM f_display.           "Show ALV
  ELSE.
    WRITE: / 'No matching orders found.'.
  ENDIF.
